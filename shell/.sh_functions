mkcd() { mkdir -p "$1" && cd "$1"; }

cdto() { cd `which "$1"`/..; }

make_executable() { chmod +x "$1"; }
# if [ -n "$ZSH_VERSION" ]; then
#   alias +x=make_executable
# fi

csc() { $EDITOR $(which $1) }

glc() {
  for d in */.git; do
    dir=$(dirname "$d")
    (
      cd "$dir" >/dev/null 2>&1 || exit
      if [ -n "$(git status --porcelain 2>/dev/null)" ]; then
        printf '%s\n' "$dir"
      fi
    )
  done
}

fpop() { head -n1 "$1"; tail -n +2 "$1" > "$1.tmp"; mv "$1.tmp" "$1" }

#each() { f="$1"; v="$2"; shift 2; while read "$v" ; do $@; done < "$f" }

o() { if [ -z "$1" ]; then open .; else open "$1"; fi  }

pd() { if [ -z "$1" ]; then popd; else pushd "$1"; fi }

glrtp() { kubectl get pods --all-namespaces | grep -e "^a-.*Running.*d$"; }

# Fallback editor aliases (optional)
# F="sh_functions"
# alias $F="\$EDITOR ~/.$F"
# if [ -f "$HOME/.$F.private" ]; then
#   source "$HOME/.$F.private"
#   alias ${F}.private="\$EDITOR ~/.$F.private"
# fi
